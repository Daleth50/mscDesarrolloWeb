{% extends "base.html" %}

{% block title %}Ventas{% endblock %}

{% block content %}
<section class="bg-white border border-slate-200 rounded-lg p-6">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-2xl font-semibold">Ventas</h2>
    <a class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700" href="{{ url_for('main.new_order') }}">Crear venta</a>
  </div>

  <div class="overflow-x-auto">
    <table class="min-w-full border border-slate-200 text-sm">
      <thead class="bg-slate-100">
        <tr>
          <th class="px-4 py-2 text-left border-b border-slate-200">ID</th>
          <th class="px-4 py-2 text-left border-b border-slate-200">Contacto</th>
          <th class="px-4 py-2 text-left border-b border-slate-200">Total</th>
          <th class="px-4 py-2 text-left border-b border-slate-200">Estado</th>
          <th class="px-4 py-2 text-left border-b border-slate-200">Pago</th>
          <th class="px-4 py-2 text-left border-b border-slate-200">Método</th>
          <th class="px-4 py-2 text-left border-b border-slate-200">Tipo</th>
        </tr>
      </thead>
      <tbody>
        {% for order in orders %}
          <tr class="hover:bg-slate-50">
            <td class="px-4 py-2 border-b border-slate-200">{{ order.id }}</td>
            <td class="px-4 py-2 border-b border-slate-200">{{ order.contact_id or '-' }}</td>
            <td class="px-4 py-2 border-b border-slate-200">{{ order.total if order.total is not none else '-' }}</td>
            <td class="px-4 py-2 border-b border-slate-200">{{ order.status or '-' }}</td>
            <td class="px-4 py-2 border-b border-slate-200">{{ order.payment_status or '-' }}</td>
            <td class="px-4 py-2 border-b border-slate-200">{{ order.payment_method or '-' }}</td>
            <td class="px-4 py-2 border-b border-slate-200">{{ order.type or '-' }}</td>
          </tr>
        {% else %}
          <tr>
            <td class="px-4 py-4 text-slate-500" colspan="7">No hay ventas aún.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</section>
{% endblock %}
