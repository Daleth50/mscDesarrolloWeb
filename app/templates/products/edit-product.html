{% extends "base.html" %}

{% block title %}Editar producto{% endblock %}

{% block content %}
<section class="bg-white border border-slate-200 rounded-lg p-6 max-w-2xl">
  <h2 class="text-2xl font-semibold mb-4">Editar producto</h2>

  <form action="{{ url_for('main.edit_product', product_id=product.id) }}" method="post" class="space-y-4">
    <div>
      <label for="name" class="block text-sm font-medium mb-1">Nombre del producto:</label>
      <input class="w-full border border-slate-300 rounded-md px-3 py-2" type="text" id="name" name="name" value="{{ product.name }}" required />
    </div>

    <div>
      <label for="description" class="block text-sm font-medium mb-1">Descripci√≥n:</label>
      <textarea class="w-full border border-slate-300 rounded-md px-3 py-2" id="description" name="description" rows="3">{{ product.description }}</textarea>
    </div>

    <div>
      <label for="price" class="block text-sm font-medium mb-1">Precio:</label>
      <input class="w-full border border-slate-300 rounded-md px-3 py-2" type="number" step="0.01" min="0" id="price" name="price" value="{{ product.price }}" required />
    </div>

    <div>
      <label for="stock_quantity" class="block text-sm font-medium mb-1">Cantidad en inventario:</label>
      <input class="w-full border border-slate-300 rounded-md px-3 py-2" type="number" min="0" id="stock_quantity" name="stock_quantity" value="{{ product.stock_quantity }}" required />
    </div>

    <div>
      <label for="featured_image" class="block text-sm font-medium mb-1">URL de la imagen destacada:</label>
      <input class="w-full border border-slate-300 rounded-md px-3 py-2" type="text" id="featured_image" name="featured_image" value="{{ product.featured_image }}" required />
    </div>

    <div class="flex items-center gap-3">
      <button class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700" type="submit">Guardar cambios</button>
      <a class="text-slate-600 hover:text-slate-800" href="{{ url_for('main.product_detail', product_id=product.id) }}">Cancelar</a>
    </div>
  </form>

  {% if error %}
    <p class="text-red-600 mt-4">{{ error }}</p>
  {% endif %}
</section>
{% endblock %}